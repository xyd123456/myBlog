<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>变量 | study a</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just study a">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.30d5f272.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.9eaef0fb.js" as="script"><link rel="preload" href="/myBlog/assets/js/2.344231cb.js" as="script"><link rel="preload" href="/myBlog/assets/js/8.e9e6547e.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.70755c3c.js"><link rel="prefetch" href="/myBlog/assets/js/11.95682bb4.js"><link rel="prefetch" href="/myBlog/assets/js/3.0f21fe63.js"><link rel="prefetch" href="/myBlog/assets/js/4.f10da916.js"><link rel="prefetch" href="/myBlog/assets/js/5.51dd4641.js"><link rel="prefetch" href="/myBlog/assets/js/6.ed26af5a.js"><link rel="prefetch" href="/myBlog/assets/js/7.df6f6442.js"><link rel="prefetch" href="/myBlog/assets/js/9.f6ecb1f1.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.30d5f272.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">study a</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/myBlog/" aria-current="page" class="sidebar-link">Study a</a></li><li><a href="/myBlog/TypeScript.html" class="sidebar-link">TypeScript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java Script</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/JavaScript/01正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/myBlog/JavaScript/02变量.html" class="active sidebar-link">变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#var-let-const" class="sidebar-link">var  let  const</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#undefined类型" class="sidebar-link">Undefined类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#null类型" class="sidebar-link">Null类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#boolean类型" class="sidebar-link">Boolean类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#number类型" class="sidebar-link">Number类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#string类型" class="sidebar-link">String类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#symbol类型" class="sidebar-link">Symbol类型</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/02变量.html#object类型" class="sidebar-link">Object类型</a></li></ul></li></ul></li><li><a href="/myBlog/JavaScript/03操作符.html" class="sidebar-link">一元操作符</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h1> <h2 id="var-let-const"><a href="#var-let-const" class="header-anchor">#</a> var  let  const</h2> <ol><li><p>var声明的范围是函数作用域，let声明的范围是块作用域。</p> <p>eg:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">//Matt</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">//Matt</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token comment">//26</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token comment">//ReferenceError</span>
</code></pre></div></li> <li><p>var会有变量提升，let没有</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Matt'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token comment">//ReferenceError</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">26</span>
</code></pre></div></li> <li><p>const的行为与let基本相同，唯一一个重要的区别是用它声明变量时必须同时初始化变量，且尝试修改const声明的变量会导致运行错误。</p></li> <li><p>提升代码质量关键：不使用var，优先使用const，let次之。</p></li></ol> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <p>总共有7种数据类型，6种简单数据类型：Undefined、Null、Boolean、Number、String和Symbol，1种复杂数据类型Object。</p> <p>typeof操作符</p> <table><thead><tr><th>结果</th> <th>含义</th></tr></thead> <tbody><tr><td>undefined</td> <td>未定义</td></tr> <tr><td>boolean</td> <td>布尔值</td></tr> <tr><td>string</td> <td>字符串</td></tr> <tr><td>number</td> <td>数值</td></tr> <tr><td>symbol</td> <td>符号</td></tr> <tr><td>object</td> <td>对象（不是方法）或null</td></tr> <tr><td>function</td> <td>方法</td></tr></tbody></table> <h3 id="undefined类型"><a href="#undefined类型" class="header-anchor">#</a> Undefined类型</h3> <p>字面值undefined主要用于比较，增加这个特殊值的目的就是为了正式明确空对象指针（null）和未初始化变量的区别。</p> <p>在对于未初始化变量调用typeof时，返回的结果是“undefined”，但对于为生命的变量调用它时，返回的结果还是“undefined”，无论生命还是未声明，typeof返回的都是字符串“undefined”。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> message 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> message<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
</code></pre></div><p>tip：及时未初始化的变量会被自动赋予undefined值，但最好在声明变量的同时进行初始化。这样，当typeof返回“undefined”时，你就会知道那是因为给定的变量未声明，而不是声明了但未初始化。</p> <h3 id="null类型"><a href="#null类型" class="header-anchor">#</a> Null类型</h3> <p>Null类型只有一个值，即特殊值null。逻辑上讲，null值表示一个空对象指针，这也就是给tyoeof传一个null会返回“object”的原因。</p> <p>在定义将要保存对象值得变量时，建议使用null来初始化，不要使用其他值。只要检查这个变量是不是null就可以知道这个变量是否在后来被重新赋予了一个对象的引用。</p> <h3 id="boolean类型"><a href="#boolean类型" class="header-anchor">#</a> Boolean类型</h3> <p>if等流控制语句会自动执行其他类型值到布尔值的转换（会被转换为false的值：false, &quot;&quot;, 0, NaN, null, undefined）。</p> <h3 id="number类型"><a href="#number类型" class="header-anchor">#</a> Number类型</h3> <p>最基本的数值字面量格式是十进制整数，整数也可以用八进制或十六进制。如果字面量中包含的数字超出了应有的范围，就会忽略前缀的零。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">070</span> <span class="token comment">//八进制的56</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">08</span> <span class="token comment">//无效八进制，当作8处理</span>
</code></pre></div><ol><li><h4 id="浮点值"><a href="#浮点值" class="header-anchor">#</a> 浮点值</h4> <p>树脂中必须包含小数点，而且小数点后面必须至少有一个数字，因为存储浮点值使用的内存空间是存储整数值的两倍，所以js想方设法会将值转换为整数。</p> <p>浮点值的精准度最高可达17为小数。::todo （需要添加）</p></li> <li><h4 id="值的范围"><a href="#值的范围" class="header-anchor">#</a> 值的范围</h4> <p>最大值 最小值：：todo</p> <p>如果计算返回正Infinity或负Infinity，则该值将不能再进一步用于任何计算，这是因为Infinity没有可用于计算的数值表示形式，可以使用isFinite()函数检查是否无限大。</p></li> <li><h4 id="nan"><a href="#nan" class="header-anchor">#</a> NaN</h4> <p>任何涉及NaN的操作始终返回NaN。</p> <p>NaN不等于包括NaN在内的人何止。</p> <p>isNaN函数接受一个参数，可以是任意数据类型，然后判断这个参数是否为NaN。</p></li> <li><h4 id="数值转换"><a href="#数值转换" class="header-anchor">#</a> 数值转换</h4> <p>特殊值转换：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//NaN</span>
</code></pre></div><p>字符串：</p> <ol><li><p>如果字符串包含数值字符，包括数值字符前面带加减号的情况，则转换为一个十进制数值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//1</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span> <span class="token comment">//123</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;011&quot;</span><span class="token punctuation">)</span> <span class="token comment">//11</span>
</code></pre></div></li> <li><p>如果字符串中包含有效的浮点值格式，则会转换为相应的浮点值（忽略前面的零）</p></li> <li><p>如果字符串中包含有效的十六进制格式，如“0xf”，则会转换为与该十六进制值对应的十进制整数值。</p></li> <li><p>如果是空字符串，返回0</p></li> <li><p>其余情况返回NaN</p></li></ol> <p>parseInt：用于转换整数，相比Number()更加专注于字符串是否包含数值模式。字符串最前面的空格会被忽略，从第一个非空格字符开始转换。如果第一个字符不是数值字符、加号或建好，会立即返回NaN。这意味着空字符串会返回NaN（这一点和Number()方法不一致）。从第一个字符开始检测直到字符串末尾或碰到非数值字符才会停止，返回数值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;1234blue&quot;</span><span class="token punctuation">)</span> <span class="token comment">//1234</span>
<span class="token function">pasreInt</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">//NaN</span>
<span class="token function">pasreInt</span><span class="token punctuation">(</span><span class="token string">&quot;0xA&quot;</span><span class="token punctuation">)</span> <span class="token comment">//10 解释为十六进制整数</span>
<span class="token function">pasreInt</span><span class="token punctuation">(</span><span class="token number">22.5</span><span class="token punctuation">)</span> <span class="token comment">//22</span>
<span class="token function">pasreInt</span><span class="token punctuation">(</span><span class="token string">&quot;70&quot;</span><span class="token punctuation">)</span> <span class="token comment">//70</span>
<span class="token function">pasreInt</span><span class="token punctuation">(</span><span class="token string">&quot;0xf&quot;</span><span class="token punctuation">)</span> <span class="token comment">//15 解释为十六进制整数</span>
</code></pre></div><p>同时parseInt也接受第二个参数，用于指定底数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//2</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">//8</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//10</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">//16</span>
</code></pre></div><p>parseFloat()和parseInt()一样，都是从位置0开始检测每个字符，知道解析到字符串末尾或者解析到一个无效的浮点数值字符位置。（第一个小数点有效，第二个小数点无效）</p> <p>parseFloat因为只解析十进制值。</p></li></ol> <h3 id="string类型"><a href="#string类型" class="header-anchor">#</a> String类型</h3> <ol><li><p>字符字面量</p> <table><thead><tr><th>字面量</th> <th>含义</th></tr></thead> <tbody><tr><td>\n</td> <td>换行</td></tr> <tr><td>\t</td> <td>制表</td></tr> <tr><td>\b</td> <td>退格</td></tr> <tr><td>\r</td> <td>回撤</td></tr> <tr><td>\f</td> <td>换页</td></tr> <tr><td>\\</td> <td>反斜杠（\）</td></tr> <tr><td>\'</td> <td>单引号（'）</td></tr> <tr><td>\&quot;</td> <td>双引号（&quot;）</td></tr> <tr><td>\<code>| 反引号（</code>）</td> <td></td></tr> <tr><td>\xnn</td> <td>以十六进制编码nn表示的字符</td></tr> <tr><td>\unnn</td> <td>以十六进制编码nnnn表示的Unicode字符</td></tr></tbody></table></li> <li><p>字符串创建后，他们的值就不能变了，某个变量中的字符串值，必须先销毁原始的字符串，然后将包含新值的另一个字符串保存到该变量。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> lang <span class="token operator">=</span> <span class="token string">&quot;Java&quot;</span>
lang <span class="token operator">=</span> lang <span class="token operator">+</span> <span class="token string">&quot;Script&quot;</span>
<span class="token comment">//整个过程首先会分配一个足够容纳10个字符的空间，然后填充上&quot;Java&quot;和&quot;Script&quot;.最后销毁原始的字符串&quot;Java&quot;和字符串&quot;Script&quot;，因为这两个字符串都没有用了。</span>
</code></pre></div></li> <li><p>toString()方法可以将变量转换为字符串</p> <p>当对数值调用方法是，toString方法可以添加参数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&quot;10&quot;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//&quot;1010&quot;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">//&quot;12&quot;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//&quot;10&quot;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">//&quot;a&quot;</span>
</code></pre></div><p>用加号操作符合一个值加上一个空字符串“”也可以将其转换为字符串。</p></li> <li><p>模板字面量</p> <p>顾名思义，模板字面量在定义模板时特别有用，由于模板字面量会保持反引号内部的空格，因此在使用时需要格外注意。格式正确的模板字符串开起来可能会缩进不当：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">first line
				second line</span><span class="token template-punctuation string">`</span></span> <span class="token comment">//这个模板字面量在换行符后有25个空格符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">//47</span>
</code></pre></div><p>使用${}插入的值都会使用toString()强制转型为字符串</p></li> <li><p>模板字面量标签函数</p> <p>模板字面量也支持定义标签函数，而通过标签函数可以自定义插值行为。标签函数会接受被插值记号分割后的模板和每个表达式求值的结果。</p> <p>原始字符串数组和对每个表达式求值的结果。这个函数的返回值是对模板字面量值的道德字符串。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>
    b <span class="token operator">=</span> <span class="token number">9</span>
<span class="token keyword">function</span> <span class="token function">simpleTag</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> str1<span class="token punctuation">,</span> str2<span class="token punctuation">,</span> str3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">,</span> str3<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'ok'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> taggedResult <span class="token operator">=</span> simpleTag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> a <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> b <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> a <span class="token operator">+</span> b <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> 
<span class="token comment">// [&quot;&quot;, &quot;+&quot;, &quot;=&quot;, &quot;&quot;] （如果模板字符串开头或结尾是变量就会在相应地方添加空字符串）</span>
<span class="token comment">// 6      (a)</span>
<span class="token comment">// 9	  (b)</span>
<span class="token comment">// 15     (a+b)</span>
</code></pre></div><p>使用模板字面量也可以直接获取原始的模板字面量内容（如换行符或Unicode字符），而不是被转换后的字符表示。为此可以使用默认的String.raw标签函数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\u00A9</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">//一个版权符号</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span>raw<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\u00A9</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">//\u00A9</span>
</code></pre></div></li></ol> <h3 id="symbol类型"><a href="#symbol类型" class="header-anchor">#</a> Symbol类型</h3> <p>符号是原始值，且符号实例是唯一、不可以变得。符号的用途是确保对象使用的唯一标识符，不会发生属性冲突的危险。Symbol()函数不能与new关键字一起作为构造函数使用，这样是为了避免创建符号包装函数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sym<span class="token punctuation">)</span> <span class="token comment">//symbol</span>
<span class="token keyword">let</span> genericSymbol <span class="token operator">=</span> <span class="token function">symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    otherSymbol <span class="token operator">=</span> <span class="token function">symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>genericSymbol <span class="token operator">==</span> otherSymbol<span class="token punctuation">)</span> <span class="token comment">//false</span>
<span class="token keyword">let</span> mySymbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//错误 TypeError</span>
</code></pre></div><ol><li><h4 id="全局符号注册表"><a href="#全局符号注册表" class="header-anchor">#</a> 全局符号注册表</h4> <p>需要使用Symbol.for()方法。</p> <p>第一次使用某个字符串调用时，它会检查全局运行时注册表，发现不存在对应的符号，于是就会生成一个新符号实例，并添加到注册表中。后续使用相同字符串的调用同样会检查注册表，发现存在该字符串对应的字符串，然后就会返回该符号实例。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> genericSymbol <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//创建新符号</span>
    otherSymbol <span class="token operator">=</span> Symbole<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">//重用已有符号</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>genericSymbol <span class="token operator">===</span> otherSymbol<span class="token punctuation">)</span> <span class="token comment">//true 因为两个符号是同一个</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token operator">==</span> genericSymbol<span class="token punctuation">)</span> <span class="token comment">//false 即使采用相同的符号描述，在全局注册表中定义的符号跟使用Symbol()定义的符号也并不相同</span>
</code></pre></div><p>全局注册表中的符号必须使用字符串建来创建，因此作为参数传给Symbol.for()的人任何值都会被转换为字符串，注册表中的键同时也会被用作符号描述。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> emptyGlobalSymbol <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emptyGlobalSymbol<span class="token punctuation">)</span> <span class="token comment">//Symbol(undefined)  被转换为字符串</span>
</code></pre></div><p>可以使用Symbol.keyFor()来查询全局注册表，这个方法接受符号，如果查询的不是全局符号，则返回undefined。如果传给Symbol.keyFor()的不是符号，则该方法抛出TypeError</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//创建全局符号</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//foo</span>

<span class="token comment">//创建普通符号</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//undefined</span>

Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">//TypeError</span>
</code></pre></div><p>凡是可以使用字符串或数值作为属性的地方，都可以使用符号。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'foo Val'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token comment">//{Symbol(foo): 'foo Val'}</span>
</code></pre></div><p>因为符号属性是对内存中一个符号的银行，所以直接创建并用作属性的符号不会丢失。但是如果没有显式地保存对这些属性的引用，那么必须遍历对象的所有符号属性才能找到相应的属性键。</p></li> <li><h4 id="常用内置符号"><a href="#常用内置符号" class="header-anchor">#</a> 常用内置符号</h4></li></ol> <h3 id="object类型"><a href="#object类型" class="header-anchor">#</a> Object类型</h3> <p>对象其实就是一组数据和功能的集合，对象通过new操作符后跟对象类型的名称来创建。</p> <p>每个object实例都有如下属性和方法：</p> <ol><li>constructor：用于创建当前对象的函数。</li> <li>hasOwnProperty（propertyName）：用于判断当前对象实例上是否存在给定的属性，要千差的属性名必须是字符串。</li> <li>isPrototypeOf（object）：用于判断当前对象是否为另一个对象的原型。</li> <li>propertyIsEnumerable：用于判断给定的属性是否可以使用for-in语句枚举。</li> <li>toLocaleString（）：返回对象的字符串表示，该字符串放映对象所在的本地化执行环境。</li> <li>toString（）：返回对象的字符串表示。</li> <li>valueOf（）：返回对象对应的字符串、数值或布尔值表示。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myBlog/JavaScript/01正则表达式.html" class="prev">
        正则表达式
      </a></span> <span class="next"><a href="/myBlog/JavaScript/03操作符.html">
        一元操作符
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myBlog/assets/js/app.9eaef0fb.js" defer></script><script src="/myBlog/assets/js/2.344231cb.js" defer></script><script src="/myBlog/assets/js/8.e9e6547e.js" defer></script>
  </body>
</html>
