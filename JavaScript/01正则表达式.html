<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | study a</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just study a">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.03bba5f5.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.de836814.js" as="script"><link rel="preload" href="/myBlog/assets/js/2.344231cb.js" as="script"><link rel="preload" href="/myBlog/assets/js/7.2bddf6c7.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.00fd63d2.js"><link rel="prefetch" href="/myBlog/assets/js/11.96a7907c.js"><link rel="prefetch" href="/myBlog/assets/js/12.4d001da7.js"><link rel="prefetch" href="/myBlog/assets/js/13.fdf0f2c3.js"><link rel="prefetch" href="/myBlog/assets/js/3.a969e1d2.js"><link rel="prefetch" href="/myBlog/assets/js/4.b9efb713.js"><link rel="prefetch" href="/myBlog/assets/js/5.752d2d19.js"><link rel="prefetch" href="/myBlog/assets/js/6.ed26af5a.js"><link rel="prefetch" href="/myBlog/assets/js/8.26166d0b.js"><link rel="prefetch" href="/myBlog/assets/js/9.5ed73190.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.03bba5f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">study a</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/myBlog/" aria-current="page" class="sidebar-link">Study a</a></li><li><a href="/myBlog/TypeScript.html" class="sidebar-link">TypeScript</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java Script</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/JavaScript/01正则表达式.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#描述字符" class="sidebar-link">描述字符</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#描述字符范围" class="sidebar-link">描述字符范围</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#重复匹配" class="sidebar-link">重复匹配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#惰性匹配" class="sidebar-link">惰性匹配</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#边界量词" class="sidebar-link">边界量词</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#子表达式" class="sidebar-link">子表达式</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#反向引用" class="sidebar-link">反向引用</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#断言写法" class="sidebar-link">断言写法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#前瞻断言" class="sidebar-link">前瞻断言</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#后瞻断言" class="sidebar-link">后瞻断言</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#正则表达式性能" class="sidebar-link">正则表达式性能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#工作原理" class="sidebar-link">工作原理</a></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#优化方法" class="sidebar-link">优化方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/JavaScript/01正则表达式.html#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/myBlog/JavaScript/02变量.html" class="sidebar-link">变量</a></li><li><a href="/myBlog/JavaScript/03操作符.html" class="sidebar-link">一元操作符</a></li><li><a href="/myBlog/JavaScript/04变量作用域与内存.html" class="sidebar-link">变量、作用域与内存</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h1> <h2 id="描述字符"><a href="#描述字符" class="header-anchor">#</a> 描述字符</h2> <table><thead><tr><th>元字符</th> <th>描述</th></tr></thead> <tbody><tr><td>.</td> <td>查找单个字符，除了换行和行结束符</td></tr> <tr><td>\w</td> <td>查找单词字符</td></tr> <tr><td>\W</td> <td>查找非单词字符</td></tr> <tr><td>\d</td> <td>查找数字</td></tr> <tr><td>\D</td> <td>查找非数字字符</td></tr> <tr><td>\s</td> <td>查找空白字符</td></tr> <tr><td>\S</td> <td>查找非空白字符</td></tr> <tr><td>\b</td> <td>匹配一个边界，它包括字与空格之间的位置，以及目标字符串开始和结束位置</td></tr> <tr><td>\B</td> <td>匹配非单词边界</td></tr> <tr><td>\n</td> <td>查找换行符</td></tr> <tr><td>\f</td> <td>查找换页符</td></tr> <tr><td>\r</td> <td>回车符</td></tr> <tr><td>\t</td> <td>制表符</td></tr> <tr><td>\v</td> <td>垂直制表符</td></tr> <tr><td>\xxx</td> <td>查找以八进制数 xxxx 规定的字符</td></tr> <tr><td>\xdd</td> <td>查找以十六进制数 dd 规定的字符</td></tr> <tr><td>\uxxx</td> <td>查找以十六进制 xxxx规定的 Unicode 字符</td></tr></tbody></table> <ol><li>若要匹配a可以用  \x61  a得ASCII码为97转换为8进制为61  即正则表达式为  /\x61/</li> <li>若用八进制表达则为/\141/</li> <li>16进制Unicode则为/\u0061/</li></ol> <h2 id="描述字符范围"><a href="#描述字符范围" class="header-anchor">#</a> 描述字符范围</h2> <table><thead><tr><th>元字符</th> <th>描述</th></tr></thead> <tbody><tr><td>[abc]</td> <td>a b c之中得任意一个</td></tr> <tr><td>[^abc]</td> <td>查找不再括号中得任意一个</td></tr> <tr><td>[0-9]</td> <td>0到9</td></tr> <tr><td>[a-z]</td> <td>a到z</td></tr> <tr><td>[A-Z]</td> <td>A到Z</td></tr> <tr><td>[A-z]</td> <td>A到Z和a到z</td></tr> <tr><td>a｜b</td> <td>两个子模式的匹配结果中任选一个</td></tr></tbody></table> <ol><li>可以匹配ASXCII码</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\u0000-\u00ff]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
</code></pre></div><ol start="2"><li>可以混用各种字符模式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[abce-z]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span> <span class="token comment">//字符a、b、c，以及从e~z之间的任意字符</span>
</code></pre></div><ol start="3"><li>在中括号内不要有空格，否则会误解为还要匹配空格</li> <li>字符范围可以组合使用，以便设计更灵活的匹配模式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab[c-g][1-7]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span> <span class="token comment">//前两个字符为ab，第三个字符为从c到g，第四个字符为1~7的任意数字</span>
</code></pre></div><ol start="5"><li></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(abc)|(efg)|(123)|(456)</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><p>在多个子模式之间加入选择操作符</p> <h2 id="重复匹配"><a href="#重复匹配" class="header-anchor">#</a> 重复匹配</h2> <table><thead><tr><th>量词</th> <th>描述</th></tr></thead> <tbody><tr><td>n+</td> <td>匹配任何包含至少一个 n 的字符串</td></tr> <tr><td>n*</td> <td>匹配任何包含零个或多个 n 的字符串</td></tr> <tr><td>n?</td> <td>匹配任何包含零个或一个 n 的字符串</td></tr> <tr><td>n{x}</td> <td>匹配包含 x 个 n 的序列的字符串</td></tr> <tr><td>n{x,y}</td> <td>匹配包含最少 x 个、最多 y 个 n 的序列的字符串</td></tr> <tr><td>n{x,}</td> <td>匹配包含至少 x 个 n 的序列的字符串</td></tr></tbody></table> <p>注意：该重复匹配只匹配前一个字符 若需匹配多个字符需添加()</p> <h3 id="惰性匹配"><a href="#惰性匹配" class="header-anchor">#</a> 惰性匹配</h3> <p>重复类量词都具有贪婪性，在条件允许的前提下，会匹配尽可能多的字符。
?、{n} 和 {n,m} 重复类具有弱贪婪性，表现为贪婪的有限性。
*、+ 和 {n,} 重复类具有强贪婪性，表现为贪婪的无限性。</p> <ol><li>越是排在左侧的重复类量词匹配优先级越高。会保证右边重复性量词最低匹配次数的基础上尽可能的去多匹配左边的重复性量词
例子：/[a-z]<em>[a-z]</em>/ 优先保证右边最低次数匹配 最低次数匹配为0所以会匹配右边0次 然后尽可能地去匹配左边</li> <li>与贪婪匹配相反，惰性匹配将遵循另一种算法：在满足条件的前提下，尽可能少的匹配字符。定义惰性匹配的方法：在重复类量词后面添加问号?限制词。</li> <li>贪婪匹配体现了最大化匹配原则，惰性匹配则体现最小化匹配原则。</li> <li>惰性匹配例子：
{n,m}?：尽量匹配 n 次，但是为了满足限定条件也可能最多重复 m 次。
{n}?：尽量匹配 n 次。
{n,}?：尽量匹配 n 次，但是为了满足限定条件也可能匹配任意次。
??：尽量匹配，但是为了满足限定条件也可能最多匹配 1 次，相当于 {0,1}?。
+?：尽量匹配 1 次，但是为了满足限定条件也可能匹配任意次，相当于 {1,}?。
*? ：尽量不匹配，但是为了满足限定条件也可能匹配任意次，相当于 {0,}?。</li></ol> <h2 id="边界量词"><a href="#边界量词" class="header-anchor">#</a> 边界量词</h2> <table><thead><tr><th>量词</th> <th>说明</th></tr></thead> <tbody><tr><td>^</td> <td>匹配开头</td></tr> <tr><td>$</td> <td>匹配结尾</td></tr></tbody></table> <h2 id="子表达式"><a href="#子表达式" class="header-anchor">#</a> 子表达式</h2> <p>使用小括号可以对字符模式进行任意分组，在小括号内的字符串表示子表达式，也称为子模式。子表达式具有独立的匹配功能，保存独立的匹配结果；同时，小括号后的量词将会作用于整个子表达式。</p> <p>例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+)=(\d*)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
</code></pre></div><h2 id="反向引用"><a href="#反向引用" class="header-anchor">#</a> 反向引用</h2> <p>在字符模式中，后面的字符可以引用前面的子表达式。实现方法如下</p> <div class="language-js extra-class"><pre class="language-js"><code>\<span class="token operator">+</span>数字
</code></pre></div><p>数字代表的是子表达式在字符模式中的顺序。如 '\1' 引用的是第1个子表达式 '\2'表示第二个</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w)(\w)(\w)\2\3\1\3\2\1</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre></div><h2 id="断言写法"><a href="#断言写法" class="header-anchor">#</a> 断言写法</h2> <h3 id="前瞻断言"><a href="#前瞻断言" class="header-anchor">#</a> 前瞻断言</h3> <p>(?=exp) 顺序肯定环视，表示所在位置右侧能够匹配exp</p> <p>example：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'这是例子ddd123啊啊啊'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\D+(?=\d)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
</code></pre></div><p>会匹配123数字之前的字段（这是例子ddd）</p> <p>(?!exp) 顺序否定环视，表示所在位置右侧不能匹配exp</p> <h3 id="后瞻断言"><a href="#后瞻断言" class="header-anchor">#</a> 后瞻断言</h3> <p>(?&lt;=exp) 逆序肯定环视，表示所在位置左侧能够匹配exp</p> <p>example：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'这是例子ddd123啊啊啊'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\d)\D+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> 
</code></pre></div><p>会匹配123数字之后的字段（啊啊啊）</p> <p>(?&lt;!exp) 逆序否定环视，表示所在位置左侧不能匹配exp</p> <h2 id="正则表达式性能"><a href="#正则表达式性能" class="header-anchor">#</a> 正则表达式性能</h2> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <ol><li><p>浏览器验证正则表达式对象，把它转换成原生代码程序，把正则对象赋值给一个变量</p></li> <li><p>设置起始位置，从头开始搜索</p></li> <li><p>逐个检查文本和正则模式，当一个特定的字元匹配失败是，回溯到之前尝试匹配的位置，尝试其他可能的路径</p></li> <li><p>若匹配成功，则返回匹配成功，若到最后一个字符串未成功，则返回匹配失败</p></li> <li><p>用test方法比exec方法快上一倍左右</p></li></ol> <h3 id="优化方法"><a href="#优化方法" class="header-anchor">#</a> 优化方法</h3> <p>回溯是性能消耗所在，旨在减少回溯</p> <ol><li>在开始选择头开始搜索时，通过早期预测跳过一些不必要的工作（例：正则表达式以^开头）</li> <li>可以用字符串操作完成的就用不要用正则</li> <li>使用模拟原子组(向前查看+反向引用)：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\s\<span class="token constant">S</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\<span class="token number">1</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;html&gt;(?=([\s\S]*?&lt;head&gt;))\1(?=([\s\S]*?&lt;\/head&gt;))\2(?=([\s\S]*?&lt;body&gt;))\3(?=([\s\S]*?&lt;\/body&gt;))\4[\s\S]*?&lt;\/html&gt;</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><hr> <h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h2> <p>http://c.biancheng.net/view/5632.html （基础，有各个知识点)</p> <p>https://blog.csdn.net/example440982/article/details/85177133/ (解释断言)</p> <p>https://www.cnblogs.com/wyhlightstar/p/10233457.html （提升正则性能）</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myBlog/http/详解HTTP1.0、HTTP1.1、HTTP2、HTTPS.html" class="prev">
        一. 什么是HTTP协议：
      </a></span> <span class="next"><a href="/myBlog/JavaScript/02变量.html">
        变量
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myBlog/assets/js/app.de836814.js" defer></script><script src="/myBlog/assets/js/2.344231cb.js" defer></script><script src="/myBlog/assets/js/7.2bddf6c7.js" defer></script>
  </body>
</html>
